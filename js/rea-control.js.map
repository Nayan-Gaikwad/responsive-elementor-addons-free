{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///../assets/dev/js/controls/rea-control.js"],"names":["$","window","document","undefined","on","elementorFrontend","isEditMode","hooks","addAction","$scope","wp","mediaelement","initialize","ReaControlBaseDataView","elementor","modules","controls","BaseData","ReaControlVisualSelectItemView","extend","onReady","ui","select","reaVisualSelect","onBeforeDestroy","addControlView","ReaMediaSelectControl","prototype","apply","arguments","controlMedia","mediaImage","frameOpeners","deleteButton","events","_","applySavedValue","control","getControlValue","css","img","toggleClass","openFrame","frame","initFrame","open","deleteImage","setValue","url","id","media","button","text","translate","states","controller","Library","title","library","query","type","data","multiple","date","bind","trigger","attachment","state","get","first","toJSON","image","src","$el","remove","jQuery"],"mappings":"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","file":"rea-control.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 121);\n","(function($, window, document, undefined){\r\n\r\n    $(window).on('elementor/frontend/init', function (){\r\n\r\n        if ( elementorFrontend.isEditMode() ) {\r\n            elementorFrontend.hooks.addAction( 'frontend/element_ready/rea_audio.default', function( $scope ){ window.wp.mediaelement.initialize() } );\r\n        }\r\n    });\r\n\r\n    $( window ).on( 'elementor:init', function() {\r\n\r\n        var ReaControlBaseDataView = elementor.modules.controls.BaseData;\r\n\r\n        /**\r\n         *  REA Visual Select Controller\r\n         */\r\n        var ReaControlVisualSelectItemView = ReaControlBaseDataView.extend( {\r\n            onReady: function() {\r\n                this.ui.select.reaVisualSelect();\r\n            },\r\n            onBeforeDestroy: function() {\r\n                this.ui.select.reaVisualSelect( 'destroy' );\r\n            }\r\n        } );\r\n        elementor.addControlView( 'rea-visual-select', ReaControlVisualSelectItemView );\r\n\r\n        /**\r\n         *  REA Media Select Controller\r\n         */\r\n        var ReaMediaSelectControl = ReaControlBaseDataView.extend({\r\n            ui: function() {\r\n                var ui = ReaControlBaseDataView.prototype.ui.apply( this, arguments );\r\n\r\n                ui.controlMedia = '.rea-elementor-control-media';\r\n                ui.mediaImage = '.rea-elementor-control-media-attachment';\r\n                ui.frameOpeners = '.rea-elementor-control-media-upload-button, .rea-elementor-control-media-attachment';\r\n                ui.deleteButton = '.rea-elementor-control-media-delete';\r\n\r\n                return ui;\r\n            },\r\n\r\n            events: function() {\r\n                return _.extend( ReaControlBaseDataView.prototype.events.apply( this, arguments ), {\r\n                    'click @ui.frameOpeners': 'openFrame',\r\n                    'click @ui.deleteButton': 'deleteImage'\r\n                } );\r\n            },\r\n\r\n            applySavedValue: function() {\r\n                var control = this.getControlValue();\r\n\r\n                this.ui.mediaImage.css( 'background-image', control.img ? 'url(' + control.img + ')' : '' );\r\n\r\n                this.ui.controlMedia.toggleClass( 'elementor-media-empty', ! control.img );\r\n            },\r\n\r\n            openFrame: function() {\r\n                if ( ! this.frame ) {\r\n                    this.initFrame();\r\n                }\r\n\r\n                this.frame.open();\r\n            },\r\n\r\n            deleteImage: function() {\r\n                this.setValue( {\r\n                    url: '',\r\n                    img: '',\r\n                    id : ''\r\n                } );\r\n\r\n                this.applySavedValue();\r\n            },\r\n\r\n            /**\r\n             * Create a media modal select frame, and store it so the instance can be reused when needed.\r\n             */\r\n            initFrame: function() {\r\n                this.frame = wp.media( {\r\n                    button: {\r\n                        text: elementor.translate( 'insert_media' )\r\n                    },\r\n                    states: [\r\n                        new wp.media.controller.Library( {\r\n                            title: elementor.translate( 'insert_media' ),\r\n                            library: wp.media.query( { type: this.ui.controlMedia.data('media-type') } ),\r\n                            multiple: false,\r\n                            date: false\r\n                        } )\r\n                    ]\r\n                } );\r\n\r\n                // When a file is selected, run a callback.\r\n                this.frame.on( 'insert select', this.select.bind( this ) );\r\n            },\r\n\r\n            /**\r\n             * Callback handler for when an attachment is selected in the media modal.\r\n             * Gets the selected image information, and sets it within the control.\r\n             */\r\n            select: function() {\r\n                this.trigger( 'before:select' );\r\n\r\n                // Get the attachment from the modal frame.\r\n                var attachment = this.frame.state().get( 'selection' ).first().toJSON();\r\n\r\n                if ( attachment.url ) {\r\n                    this.setValue( {\r\n                        url: attachment.url,\r\n                        img: attachment.image.src,\r\n                        id : attachment.id\r\n                    } );\r\n\r\n                    this.applySavedValue();\r\n                }\r\n\r\n                this.trigger( 'after:select' );\r\n            },\r\n\r\n            onBeforeDestroy: function() {\r\n                this.$el.remove();\r\n            }\r\n        });\r\n\r\n        elementor.addControlView('rea-media', ReaMediaSelectControl);\r\n    });\r\n\r\n})(jQuery, window, document);"],"sourceRoot":""}